(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1802efc6"],{"01a5":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"topicDetail"},[e("header-view"),e("div",{staticClass:"content"},[e("top-view"),e("div",{staticClass:"category"},[e("span",{staticClass:"tagName",on:{click:function(s){return t.toSignleMoudle(t.article.tagId)}}},[t._v(t._s(t.article.tagName))]),e("span",{staticClass:"sp"},[t._v("/")]),e("span",{staticClass:"title"},[t._v(t._s(t.article.title))])]),e("div",{staticClass:"detail"},[e("div",{staticClass:"tagName"},[t._v(t._s(t.article.title))]),e("div",{staticClass:"user"},[e("img",{staticClass:"userIcon",attrs:{src:t.article.userIcon}}),e("div",{staticClass:"name"},[e("div",{staticClass:"userName"},[t._v(t._s(t.article.userName))]),e("div",{staticClass:"modifyTime"},[t._v(t._s(t.article.modifyTime))])])]),e("div",{staticClass:"article",domProps:{innerHTML:t._s(t.article.content)}})]),e("div",{staticClass:"mark"},[e("div",{staticClass:"left"},[e("div",{staticClass:"el"},[e("span",{staticClass:"tl"},[t._v("回复")]),e("span",{staticClass:"num"},[t._v(t._s(t.article.commentCount))])]),e("div",{staticClass:"el"},[e("span",{staticClass:"tl"},[t._v("浏览")]),e("span",{staticClass:"num"},[t._v(t._s(t.article.view))])]),e("div",{staticClass:"el"},[e("span",{staticClass:"tl"},[t._v("点赞")]),t.article.upSelf?e("img",{staticClass:"zan",attrs:{src:t.globalImgPath.zan}}):t._e(),t.article.upSelf?t._e():e("img",{staticClass:"zan",attrs:{src:t.globalImgPath.zan2},on:{click:function(s){return t.getVote()}}}),e("span",{staticClass:"num"},[t._v(t._s(t.article.up))])])]),e("div",{staticClass:"right",on:{click:function(s){return t.showComment(null,t.article.userName,"","reply")}}},[t._v("回复")])]),e("div",{staticClass:"comment"},t._l(t.commentList,(function(s,a){return e("div",{key:a,staticClass:"item"},[e("div",{staticClass:"user"},[e("img",{staticClass:"userIcon",attrs:{src:s[0].userIcon}}),e("div",{staticClass:"name"},[e("div",{staticClass:"userName"},[t._v(t._s(s[0].userName))]),e("div",{staticClass:"modifyTime"},[t._v(t._s(s[0].time))])])]),e("div",{staticClass:"text"},[t._v(t._s(s[0].content))]),e("div",{staticClass:"action"},[s[0].edit?e("span",{staticClass:"edit",on:{click:function(e){return t.showComment(s[0].id,s[0].userName,s[0].content,"edit")}}},[t._v("编辑")]):t._e(),s[0].reply?e("span",{staticClass:"recall",on:{click:function(e){return t.showComment(s[0].id,s[0].userName,"","reply")}}},[t._v("回复")]):t._e()]),s.length>1?e("div",{staticClass:"sonComment"},t._l(s,(function(s,a){return 0!=a?e("div",{key:a,staticClass:"el"},[e("div",{staticClass:"user"},[e("img",{staticClass:"userIcon",attrs:{src:s.userIcon}}),e("div",{staticClass:"userName"},[t._v(t._s(s.userName)+"：@"+t._s(s.replyToUserName)+"    "+t._s(s.content))]),e("div",{staticClass:"modifyTime"},[e("span",{staticClass:"time"},[t._v("发布于"+t._s(s.time))]),s.edit?e("span",{staticClass:"recall",on:{click:function(e){return t.showComment(s.id,s.userName,s.content,"edit")}}},[t._v("编辑")]):t._e(),s.reply?e("span",{staticClass:"recall",on:{click:function(e){return t.showComment(s.id,s.userName,"","reply")}}},[t._v("回复")]):t._e()])])]):t._e()})),0):t._e()])})),0),t.isShowComment?e("div",{staticClass:"addComment"},[e("div",{staticClass:"title"},[e("div",{staticClass:"topic"},[e("span",{staticClass:"author"},[t._v("回复@"+t._s(t.curReplyer)+"：")]),t._v(" “"+t._s(t.article.title)+"”")]),e("div",{staticClass:"action"},[e("span",{staticClass:"cancle",on:{click:function(s){return t.hideComment()}}},[t._v("取消")]),"reply"==t.curMode?e("span",{staticClass:"recall",on:{click:function(s){return t.postComment()}}},[t._v("回复")]):t._e(),"edit"==t.curMode?e("span",{staticClass:"recall",on:{click:function(s){return t.putComment()}}},[t._v("修改")]):t._e()])]),e("div",{staticClass:"area"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addCommentObj.content,expression:"addCommentObj.content"}],domProps:{value:t.addCommentObj.content},on:{input:function(s){s.target.composing||t.$set(t.addCommentObj,"content",s.target.value)}}})])]):t._e()],1)],1)},i=[],n=e("aa63"),o=e("900a"),c={components:{headerView:n["a"],topView:o["a"]},data:function(){return{article:{},isShowComment:0,addCommentObj:{commentId:null,content:""},curMode:"add",commentList:[],curReplyer:""}},methods:{toSignleMoudle:function(t){this.$router.push({path:"/luntan/moudle/single",query:{tagId:t}})},getTopic:function(){var t=this;this.$http.get("/bbs/topic",{params:{topicId:this.$route.query.topicId}}).then((function(s){0==s.data.code?t.article=s.data.data:t.$Message.error(s.data.message)}))},getComments:function(){var t=this;this.$http.get("/bbs/comments",{params:{topicId:this.$route.query.topicId}}).then((function(s){0==s.data.code?t.commentList=s.data.data.content:t.$Message.error(s.data.message)}))},hideComment:function(){this.isShowComment=0},showComment:function(t,s,e,a){var i=this.$store.state.loginStatus;i?(this.curMode=a,this.addCommentObj.commentId=t,this.addCommentObj.content=e||"",this.curReplyer=s,this.isShowComment=1):this.$Message.error("请先登陆")},postComment:function(){var t=this;this.addCommentObj.content?this.$http.post("/bbs/comment",{commentId:this.addCommentObj.commentId,content:this.addCommentObj.content,topicId:this.$route.query.topicId},{emulateJSON:!0}).then((function(s){0==s.data.code?(t.$Message.success(s.data.message),t.isShowComment=0,t.getComments()):t.$Message.error(s.data.message)})):this.$Message.error("请先输入评论")},putComment:function(){var t=this;this.addCommentObj.content?this.$http.put("/bbs/comment",{commentId:this.addCommentObj.commentId,content:this.addCommentObj.content},{emulateJSON:!0}).then((function(s){0==s.data.code?(t.$Message.success(s.data.message),t.isShowComment=0,t.getComments()):t.$Message.error(s.data.message)})):this.$Message.error("请先输入评论")},getVote:function(){var t=this;this.$http.get("/bbs/vote",{params:{topicId:this.$route.query.topicId}}).then((function(s){0==s.data.code?(t.$Message.success(s.data.message),t.getTopic()):t.$Message.error(s.data.message)}))}},created:function(){this.getTopic(),this.getComments()},mounted:function(){}},r=c,u=(e("89b7"),e("2877")),l=Object(u["a"])(r,a,i,!1,null,null,null);s["default"]=l.exports},"2b85":function(t,s,e){},"622e":function(t,s,e){"use strict";var a=e("2b85"),i=e.n(a);i.a},"7da4":function(t,s,e){"use strict";var a=e("eabd"),i=e.n(a);i.a},"89b7":function(t,s,e){"use strict";var a=e("cd62"),i=e.n(a);i.a},"900a":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top"},[e("div",{staticClass:"m",on:{click:function(s){return t.toPage("/luntan/moudle")}}},[-1!=t.routePath.indexOf("moudle")?e("img",{staticClass:"bankuaitubiao",attrs:{src:t.globalImgPath.bankuaitubiao}}):t._e(),-1==t.routePath.indexOf("moudle")?e("img",{staticClass:"bankuaitubiao",attrs:{src:t.globalImgPath.bankuaitubiao2}}):t._e(),e("span",{staticClass:"txt",class:{curText:-1!=t.routePath.indexOf("moudle")}},[t._v("模块")])]),e("div",{staticClass:"m",on:{click:function(s){return t.toPage("/luntan/newest")}}},[-1!=t.routePath.indexOf("newest")?e("img",{staticClass:"zuixin",attrs:{src:t.globalImgPath.zuixin3}}):t._e(),-1==t.routePath.indexOf("newest")?e("img",{staticClass:"zuixin",attrs:{src:t.globalImgPath.zuixin}}):t._e(),e("span",{staticClass:"txt",class:{curText:-1!=t.routePath.indexOf("newest")}},[t._v("最新")])]),e("div",{staticClass:"m",on:{click:function(s){return t.toPage("/luntan/hot")}}},[-1!=t.routePath.indexOf("hot")?e("img",{staticClass:"zuixin_1",attrs:{src:t.globalImgPath.zuixin_2}}):t._e(),-1==t.routePath.indexOf("hot")?e("img",{staticClass:"zuixin_1",attrs:{src:t.globalImgPath.zuixin_1}}):t._e(),e("span",{staticClass:"txt",class:{curText:-1!=t.routePath.indexOf("hot")}},[t._v("热门")])])])},i=[],n={data:function(){return{routePath:""}},methods:{toPage:function(t){this.$router.push(t)}},mounted:function(){this.routePath=this.$route.path}},o=n,c=(e("7da4"),e("2877")),r=Object(c["a"])(o,a,i,!1,null,"25bdce05",null);s["a"]=r.exports},aa63:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header",class:{indexHeader:"/"==t.routerPath}},[e("div",{staticClass:"panel"},[e("img",{staticClass:"logo",attrs:{src:t.globalImgPath.logo},on:{click:function(s){return t.toPage("/")}}}),e("div",{staticClass:"menu"},[e("span",{on:{click:function(s){return t.toPage("/")}}},[t._v("首页")]),e("span",{class:{curMenu:-1!=t.routerPath.indexOf("luntan")},on:{click:function(s){return t.toPage("/luntan/moudle")}}},[t._v("论坛")]),e("span",{class:{curMenu:-1!=t.routerPath.indexOf("reward")},on:{click:function(s){return t.toPage("/reward")}}},[t._v("悬赏任务")]),e("span",{class:{curMenu:-1!=t.routerPath.indexOf("skill")},on:{click:function(s){return t.toPage("/skill/list")}}},[t._v("技术文章")]),e("span",{class:{curMenu:-1!=t.routerPath.indexOf("doc")},on:{click:function(s){return t.toPage("/doc/list")}}},[t._v("开发文档")])]),1*t.$store.state.loginStatus?e("div",{staticClass:"avatar",on:{mouseenter:function(s){t.isShowManage=1},mouseleave:function(s){t.isShowManage=0}}},[t.$store.state.headPortrait?e("img",{attrs:{src:t.$store.state.headPortrait},on:{click:function(s){return t.toPage("/personal")}}}):t._e(),t.isShowManage&&t.state?e("div",{staticClass:"manage",on:{click:function(s){return t.toPage("/manage/skillList")}}},[t._v("后台管理")]):t._e()]):t._e(),1*!t.$store.state.loginStatus?e("div",{staticClass:"login"},[e("span",{on:{click:function(s){return t.showLogin()}}},[t._v("登陆")]),e("span",[t._v("|")]),e("span",{on:{click:function(s){return t.showRegister()}}},[t._v("注册")])]):t._e(),1*t.$store.state.loginStatus?e("div",{staticClass:"lang",on:{click:function(s){return t.exitLogin()}}},[e("span",[t._v("退出")])]):t._e()])])},i=[],n={data:function(){return{state:!1,routerPath:"",isShowManage:0}},methods:{showLogin:function(){this.$router.push("/login")},showRegister:function(){this.$router.push("/register")},exitLogin:function(){var t=this;this.$http.delete("/authentications").then((function(s){0==s.data.code?(t.$Message.success("退出登录成功"),window.sessionStorage.setItem("authentication","76fcd84c-818f-4c60-9553-fb91c5969ee9"),t.$http.defaults.headers.common["authentication"]="76fcd84c-818f-4c60-9553-fb91c5969ee9",window.sessionStorage.setItem("headPortrait",""),window.sessionStorage.setItem("loginStatus",0),t.$store.state.loginStatus=0,t.$store.state.headPortrait=""):t.$Message.error(s.data.message)}))},toPage:function(t){this.$router.push(t)},getButton:function(){var t=this;this.$http.get("/integral/button",{params:{id:this.id,type:0}}).then((function(s){0==s.data.code?t.state=s.data.data.state:t.$Message.error(s.data.message)}))}},created:function(){this.$store.state.loginStatus=1*window.sessionStorage.getItem("loginStatus"),this.$store.state.headPortrait=window.sessionStorage.getItem("headPortrait"),this.routerPath=this.$route.path,this.getButton()}},o=n,c=(e("622e"),e("2877")),r=Object(c["a"])(o,a,i,!1,null,"5e9e8fe4",null);s["a"]=r.exports},cd62:function(t,s,e){},eabd:function(t,s,e){}}]);
//# sourceMappingURL=chunk-1802efc6.9c08cf02.js.map