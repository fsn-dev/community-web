{"version":3,"sources":["webpack:///./src/views/register.vue?00d2","webpack:///./src/views/register.vue?9d4f","webpack:///src/views/register.vue","webpack:///./src/views/register.vue?273d","webpack:///./src/views/register.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","globalImgPath","logo","register","_v","directives","name","rawName","value","expression","domProps","on","$event","validateHasUser","target","composing","username","validateEmail","mailbox","isEmail","_e","validatePassword","password","isPassword","confirmPassword","rePassword","valiPassword","toPage","staticRenderFns","data","hasUser","hasEmail","methods","$router","push","url","$http","validateHasEmail","validateFormatEmail","reg","test","len","setTimeout","mounted","component"],"mappings":"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","file":"static/js/chunk-3903b3ac.b4fa4fec.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=de00eafa&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=de00eafa&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":_vm.globalImgPath.logo}}),_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"info\"},[_c('img',{staticClass:\"pic\",attrs:{\"src\":_vm.globalImgPath.register}})]),_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"注册\")]),_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名，后续不可更改\"},domProps:{\"value\":(_vm.username)},on:{\"blur\":function($event){return _vm.validateHasUser()},\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_c('div',{staticClass:\"item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mailbox),expression:\"mailbox\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入常用邮箱\"},domProps:{\"value\":(_vm.mailbox)},on:{\"blur\":function($event){return _vm.validateEmail()},\"input\":function($event){if($event.target.composing){ return; }_vm.mailbox=$event.target.value}}}),(!_vm.isEmail)?_c('div',{staticClass:\"error\"},[_vm._v(\"邮箱格式不正确哦\")]):_vm._e()]),_c('div',{staticClass:\"item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码，6-16个字符\"},domProps:{\"value\":(_vm.password)},on:{\"blur\":function($event){return _vm.validatePassword()},\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),(!_vm.isPassword)?_c('div',{staticClass:\"error\"},[_vm._v(\"密码格式不正确哦\")]):_vm._e()]),_c('div',{staticClass:\"item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rePassword),expression:\"rePassword\"}],staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"请再次输入密码\"},domProps:{\"value\":(_vm.rePassword)},on:{\"blur\":function($event){return _vm.confirmPassword()},\"input\":function($event){if($event.target.composing){ return; }_vm.rePassword=$event.target.value}}}),(!_vm.valiPassword)?_c('div',{staticClass:\"error\"},[_vm._v(\"两次密码输入不一致\")]):_vm._e()]),_c('div',{staticClass:\"button\",on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\"注册\")])]),_c('div',{staticClass:\"other\"},[_c('span',{staticClass:\"txt\"},[_vm._v(\"已有账号\")]),_c('span',{staticClass:\"login\",on:{\"click\":function($event){return _vm.toPage('/login')}}},[_vm._v(\"登录\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"register\">\r\n    <img :src=\"globalImgPath.logo\" class=\"logo\">\r\n    <div class=\"panel\">\r\n        <div class=\"info\">\r\n            <img :src=\"globalImgPath.register\" class=\"pic\">\r\n        </div>\r\n        <div class=\"form\">\r\n            <div class=\"content\">\r\n                <div class=\"title\">注册</div>\r\n                <div class=\"control\">\r\n                    <div class=\"item\">\r\n                        <input type=\"text\" placeholder=\"请输入用户名，后续不可更改\" class=\"input\" v-model=\"username\" @blur=\"validateHasUser()\"/>\r\n                    </div>\r\n                    <div class=\"item\">\r\n                        <input type=\"text\" placeholder=\"请输入常用邮箱\" class=\"input\" v-model=\"mailbox\" @blur=\"validateEmail()\"/>\r\n                        <div class=\"error\" v-if=\"!isEmail\">邮箱格式不正确哦</div>\r\n                    </div>\r\n                    <div class=\"item\">\r\n                        <input type=\"password\" placeholder=\"请输入密码，6-16个字符\" class=\"input\" v-model=\"password\"  @blur=\"validatePassword()\"/>\r\n                        <div class=\"error\" v-if=\"!isPassword\">密码格式不正确哦</div>\r\n                    </div>\r\n                    <div class=\"item\">\r\n                        <input type=\"password\" placeholder=\"请再次输入密码\" class=\"input\" v-model=\"rePassword\"  @blur=\"confirmPassword()\"/>\r\n                        <div class=\"error\" v-if=\"!valiPassword\">两次密码输入不一致</div>\r\n                    </div>\r\n                    <div class=\"button\" @click=\"register()\">注册</div>\r\n                </div>\r\n                <div class=\"other\">\r\n                    <span class=\"txt\">已有账号</span>\r\n                    <span class=\"login\" @click=\"toPage('/login')\">登录</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      mailbox: \"\",\r\n      password: \"\",\r\n      rePassword: \"\",\r\n      isEmail: 1,\r\n      isPassword: 1,\r\n      valiPassword: 1,\r\n      hasUser: 0,\r\n      hasEmail: 0\r\n    };\r\n  },\r\n  methods: {\r\n    toPage(url) {\r\n      this.$router.push(url);\r\n    },\r\n    validateHasUser() {\r\n      this.$http\r\n        .get(\"/authentications/duplicateCheck\", {\r\n          params: {\r\n            value: this.username,\r\n            type: 1 //1：查询用户名是否重复 2：查询邮箱是否注册\r\n          }\r\n        })\r\n        .then(response => {\r\n          if (response.data.code == 0) {\r\n            this.hasUser = 0;\r\n          } else {\r\n            this.$Message.error(response.data.message);\r\n          }\r\n        });\r\n    },\r\n    validateHasEmail() {\r\n      this.$http\r\n        .get(\"/authentications/duplicateCheck\", {\r\n          params: {\r\n            value: this.mailbox,\r\n            type: 2 //1：查询用户名是否重复 2：查询邮箱是否注册\r\n          }\r\n        })\r\n        .then(response => {\r\n          if (response.data.code == 0) {\r\n            this.hasEmail = 0;\r\n          } else {\r\n            this.$Message.error(response.data.message);\r\n          }\r\n        });\r\n    },\r\n    validateFormatEmail() {\r\n      let reg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\r\n      if (reg.test(this.mailbox)) {\r\n        this.isEmail = 1;\r\n      } else {\r\n        this.isEmail = 0;\r\n      }\r\n    },\r\n    validateEmail() {\r\n      this.validateHasEmail();\r\n      this.validateFormatEmail();\r\n    },\r\n    validatePassword() {\r\n      let len = this.password.length;\r\n      if (len < 6 || len > 16) {\r\n        this.isPassword = 0;\r\n      } else {\r\n        this.isPassword = 1;\r\n      }\r\n    },\r\n    confirmPassword() {\r\n      if (this.rePassword == this.password) {\r\n        this.valiPassword = 1;\r\n      } else {\r\n        this.valiPassword = 0;\r\n      }\r\n    },\r\n    register() {\r\n      this.validateEmail();\r\n      this.validatePassword();\r\n      this.confirmPassword();\r\n      this.validateHasUser();\r\n      setTimeout(() => {\r\n        if (\r\n          this.isEmail &&\r\n          this.isPassword &&\r\n          this.valiPassword &&\r\n          !this.hasUser &&\r\n          !this.hasEmail\r\n        ) {\r\n          this.$http\r\n            .post(\r\n              \"/authentications\",\r\n              {\r\n                username: this.username,\r\n                mailbox: this.mailbox,\r\n                password: this.password\r\n              },\r\n              { emulateJSON: true }\r\n            )\r\n            .then(response => {\r\n              if (response.data.code == 0) {\r\n                this.$router.push({\r\n                  name: \"validateEmail\",\r\n                  params: {\r\n                    mailbox: this.mailbox,\r\n                    userId: response.data.data.id,\r\n                    type: \"register\"\r\n                  }\r\n                });\r\n              } else {\r\n                this.$Message.error(response.data.message);\r\n              }\r\n            });\r\n        }\r\n      }, 500);\r\n    }\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.register {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: #fafafa;\r\n  position: relative;\r\n\r\n  .logo {\r\n    position: absolute;\r\n    width: 1.16rem;\r\n    height: 0.29rem;\r\n    top: 0.31rem;\r\n    left: 0.42rem;\r\n  }\r\n\r\n  .panel {\r\n    width: 14.38rem;\r\n    height: 8.17rem;\r\n    background: #fff;\r\n    margin: auto;\r\n    position: absolute;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    left: 0px;\r\n    right: 0px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 0px;\r\n    border-radius: 0.1rem;\r\n    overflow: hidden;\r\n    box-shadow: 0px 0px 57px 0px rgba(64, 136, 255, 0.19);\r\n\r\n    .info {\r\n      width: 6.67rem;\r\n      height: 8.17rem;\r\n\r\n      .pic {\r\n        width: 6.67rem;\r\n        height: 8.17rem;\r\n      }\r\n    }\r\n\r\n    .form {\r\n      width: 7.71rem;\r\n      height: 8.17rem;\r\n\r\n      .content {\r\n        width: 5rem;\r\n        margin: auto;\r\n\r\n        .title {\r\n          font-size: 0.54rem;\r\n          font-weight: 400;\r\n          color: rgba(30, 133, 230, 1);\r\n          text-align: center;\r\n          margin-top: 0.4rem;\r\n        }\r\n\r\n        .control {\r\n          .item {\r\n            position: relative;\r\n            .input {\r\n              width: 100%;\r\n              font-size: 0.18rem;\r\n              font-weight: 400;\r\n              color: rgba(179, 179, 179, 1);\r\n              border: 0px;\r\n              outline: none;\r\n              padding: 0.1rem;\r\n              border-bottom: 1px solid rgba(128, 128, 128, 1);\r\n              margin-top: 0.6rem;\r\n            }\r\n\r\n            .error {\r\n              position: absolute;\r\n              right: 0px;\r\n              margin-top: 0.1rem;\r\n              text-align: right;\r\n              font-size: 0.12rem;\r\n              font-weight: 400;\r\n              color: rgba(255, 77, 77, 1);\r\n            }\r\n          }\r\n\r\n          .button {\r\n            width: 100%;\r\n            height: 0.6rem;\r\n            background: rgba(30, 133, 230, 1);\r\n            border-radius: 0.04rem;\r\n            margin: auto;\r\n            font-size: 0.18rem;\r\n            font-weight: 400;\r\n            color: rgba(255, 255, 255, 1);\r\n            margin-top: 0.6rem;\r\n            line-height: 0.6rem;\r\n            text-align: center;\r\n            cursor: pointer;\r\n          }\r\n        }\r\n\r\n        .other {\r\n          text-align: center;\r\n          margin-top: 0.4rem;\r\n\r\n          .txt {\r\n            font-size: 0.2rem;\r\n            font-weight: 400;\r\n            color: rgba(155, 155, 155, 1);\r\n          }\r\n\r\n          .login {\r\n            cursor: pointer;\r\n            font-size: 0.2rem;\r\n            font-weight: 400;\r\n            color: rgba(30, 133, 230, 1);\r\n            margin: 0px 0.1rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=de00eafa&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=de00eafa&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de00eafa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}