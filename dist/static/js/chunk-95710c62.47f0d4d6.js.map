{"version":3,"sources":["webpack:///./src/views/register.vue?d34d","webpack:///./src/views/register.vue?84f9","webpack:///src/views/register.vue","webpack:///./src/views/register.vue?273d","webpack:///./src/views/register.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","globalImgPath","logo","register","_v","directives","name","rawName","value","expression","domProps","on","$event","validateHasUser","target","composing","username","validateEmail","mailbox","isEmail","_e","validatePassword","password","isPassword","confirmPassword","rePassword","valiPassword","toPage","staticRenderFns","data","hasUser","hasEmail","methods","$router","push","url","$http","validateHasEmail","validateFormatEmail","reg","test","len","setTimeout","mounted","component"],"mappings":"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","file":"static/js/chunk-95710c62.47f0d4d6.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=f29f19e8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=f29f19e8&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":_vm.globalImgPath.logo}}),_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"info\"},[_c('img',{staticClass:\"pic\",attrs:{\"src\":_vm.globalImgPath.register}})]),_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"注册\")]),_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名，后续不可更改\"},domProps:{\"value\":(_vm.username)},on:{\"blur\":function($event){return _vm.validateHasUser()},\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_c('div',{staticClass:\"item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mailbox),expression:\"mailbox\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入常用邮箱\"},domProps:{\"value\":(_vm.mailbox)},on:{\"blur\":function($event){return _vm.validateEmail()},\"input\":function($event){if($event.target.composing){ return; }_vm.mailbox=$event.target.value}}}),(!_vm.isEmail)?_c('div',{staticClass:\"error\"},[_vm._v(\"邮箱格式不正确哦\")]):_vm._e()]),_c('div',{staticClass:\"item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码，6-16个字符\"},domProps:{\"value\":(_vm.password)},on:{\"blur\":function($event){return _vm.validatePassword()},\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),(!_vm.isPassword)?_c('div',{staticClass:\"error\"},[_vm._v(\"密码格式不正确哦\")]):_vm._e()]),_c('div',{staticClass:\"item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rePassword),expression:\"rePassword\"}],staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"请再次输入密码\"},domProps:{\"value\":(_vm.rePassword)},on:{\"blur\":function($event){return _vm.confirmPassword()},\"input\":function($event){if($event.target.composing){ return; }_vm.rePassword=$event.target.value}}}),(!_vm.valiPassword)?_c('div',{staticClass:\"error\"},[_vm._v(\"两次密码输入不一致\")]):_vm._e()]),_c('div',{staticClass:\"button\",on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\"注册\")])]),_c('div',{staticClass:\"other\"},[_c('span',{staticClass:\"txt\"},[_vm._v(\"已有账号\")]),_c('span',{staticClass:\"login\",on:{\"click\":function($event){return _vm.toPage('/login')}}},[_vm._v(\"登录\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"register\">\n    <img :src=\"globalImgPath.logo\" class=\"logo\">\n    <div class=\"panel\">\n        <div class=\"info\">\n            <img :src=\"globalImgPath.register\" class=\"pic\">\n        </div>\n        <div class=\"form\">\n            <div class=\"content\">\n                <div class=\"title\">注册</div>\n                <div class=\"control\">\n                    <div class=\"item\">\n                        <input type=\"text\" placeholder=\"请输入用户名，后续不可更改\" class=\"input\" v-model=\"username\" @blur=\"validateHasUser()\"/>\n                    </div>\n                    <div class=\"item\">\n                        <input type=\"text\" placeholder=\"请输入常用邮箱\" class=\"input\" v-model=\"mailbox\" @blur=\"validateEmail()\"/>\n                        <div class=\"error\" v-if=\"!isEmail\">邮箱格式不正确哦</div>\n                    </div>\n                    <div class=\"item\">\n                        <input type=\"password\" placeholder=\"请输入密码，6-16个字符\" class=\"input\" v-model=\"password\"  @blur=\"validatePassword()\"/>\n                        <div class=\"error\" v-if=\"!isPassword\">密码格式不正确哦</div>\n                    </div>\n                    <div class=\"item\">\n                        <input type=\"password\" placeholder=\"请再次输入密码\" class=\"input\" v-model=\"rePassword\"  @blur=\"confirmPassword()\"/>\n                        <div class=\"error\" v-if=\"!valiPassword\">两次密码输入不一致</div>\n                    </div>\n                    <div class=\"button\" @click=\"register()\">注册</div>\n                </div>\n                <div class=\"other\">\n                    <span class=\"txt\">已有账号</span>\n                    <span class=\"login\" @click=\"toPage('/login')\">登录</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      username: \"\",\n      mailbox: \"\",\n      password: \"\",\n      rePassword: \"\",\n      isEmail: 1,\n      isPassword: 1,\n      valiPassword: 1,\n      hasUser: 0,\n      hasEmail: 0\n    };\n  },\n  methods: {\n    toPage(url) {\n      this.$router.push(url);\n    },\n    validateHasUser() {\n      this.$http\n        .get(\"/authentications/duplicateCheck\", {\n          params: {\n            value: this.username,\n            type: 1 //1：查询用户名是否重复 2：查询邮箱是否注册\n          }\n        })\n        .then(response => {\n          if (response.data.code == 0) {\n            this.hasUser = 0;\n          } else {\n            this.$Message.error(response.data.message);\n          }\n        });\n    },\n    validateHasEmail() {\n      this.$http\n        .get(\"/authentications/duplicateCheck\", {\n          params: {\n            value: this.mailbox,\n            type: 2 //1：查询用户名是否重复 2：查询邮箱是否注册\n          }\n        })\n        .then(response => {\n          if (response.data.code == 0) {\n            this.hasEmail = 0;\n          } else {\n            this.$Message.error(response.data.message);\n          }\n        });\n    },\n    validateFormatEmail() {\n      let reg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\n      if (reg.test(this.mailbox)) {\n        this.isEmail = 1;\n      } else {\n        this.isEmail = 0;\n      }\n    },\n    validateEmail() {\n      this.validateHasEmail();\n      this.validateFormatEmail();\n    },\n    validatePassword() {\n      let len = this.password.length;\n      if (len < 6 || len > 16) {\n        this.isPassword = 0;\n      } else {\n        this.isPassword = 1;\n      }\n    },\n    confirmPassword() {\n      if (this.rePassword == this.password) {\n        this.valiPassword = 1;\n      } else {\n        this.valiPassword = 0;\n      }\n    },\n    register() {\n      this.validateEmail();\n      this.validatePassword();\n      this.confirmPassword();\n      this.validateHasUser();\n      setTimeout(() => {\n        if (\n          this.isEmail &&\n          this.isPassword &&\n          this.valiPassword &&\n          !this.hasUser &&\n          !this.hasEmail\n        ) {\n          this.$http\n            .post(\n              \"/authentications\",\n              {\n                username: this.username,\n                mailbox: this.mailbox,\n                password: this.password\n              },\n              { emulateJSON: true }\n            )\n            .then(response => {\n              if (response.data.code == 0) {\n                this.$router.push({\n                  name: \"validateEmail\",\n                  params: {\n                    mailbox: this.mailbox,\n                    userId: response.data.data.id,\n                    type: \"register\"\n                  }\n                });\n              } else {\n                this.$Message.error(response.data.message);\n              }\n            });\n        }\n      }, 500);\n    }\n  },\n  mounted() {}\n};\n</script>\n\n<style lang=\"less\" scoped>\n.register {\n  width: 100vw;\n  height: 100vh;\n  background: #fafafa;\n  position: relative;\n\n  .logo {\n    position: absolute;\n    width: 1.16rem;\n    height: 0.29rem;\n    top: 0.31rem;\n    left: 0.42rem;\n  }\n\n  .panel {\n    width: 14.38rem;\n    height: 8.17rem;\n    background: #fff;\n    margin: auto;\n    position: absolute;\n    top: 0px;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 0px;\n    border-radius: 0.1rem;\n    overflow: hidden;\n    box-shadow: 0px 0px 57px 0px rgba(64, 136, 255, 0.19);\n\n    .info {\n      width: 6.67rem;\n      height: 8.17rem;\n\n      .pic {\n        width: 6.67rem;\n        height: 8.17rem;\n      }\n    }\n\n    .form {\n      width: 7.71rem;\n      height: 8.17rem;\n\n      .content {\n        width: 5rem;\n        margin: auto;\n\n        .title {\n          font-size: 0.54rem;\n          font-weight: 400;\n          color: rgba(30, 133, 230, 1);\n          text-align: center;\n          margin-top: 0.4rem;\n        }\n\n        .control {\n          .item {\n            position: relative;\n            .input {\n              width: 100%;\n              font-size: 0.18rem;\n              font-weight: 400;\n              color: rgba(179, 179, 179, 1);\n              border: 0px;\n              outline: none;\n              padding: 0.1rem;\n              border-bottom: 1px solid rgba(128, 128, 128, 1);\n              margin-top: 0.6rem;\n            }\n\n            .error {\n              position: absolute;\n              right: 0px;\n              margin-top: 0.1rem;\n              text-align: right;\n              font-size: 0.12rem;\n              font-weight: 400;\n              color: rgba(255, 77, 77, 1);\n            }\n          }\n\n          .button {\n            width: 100%;\n            height: 0.6rem;\n            background: rgba(30, 133, 230, 1);\n            border-radius: 0.04rem;\n            margin: auto;\n            font-size: 0.18rem;\n            font-weight: 400;\n            color: rgba(255, 255, 255, 1);\n            margin-top: 0.6rem;\n            line-height: 0.6rem;\n            text-align: center;\n            cursor: pointer;\n          }\n        }\n\n        .other {\n          text-align: center;\n          margin-top: 0.4rem;\n\n          .txt {\n            font-size: 0.2rem;\n            font-weight: 400;\n            color: rgba(155, 155, 155, 1);\n          }\n\n          .login {\n            cursor: pointer;\n            font-size: 0.2rem;\n            font-weight: 400;\n            color: rgba(30, 133, 230, 1);\n            margin: 0px 0.1rem;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=f29f19e8&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=f29f19e8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f29f19e8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}