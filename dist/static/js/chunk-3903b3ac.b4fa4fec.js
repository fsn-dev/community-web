(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3903b3ac"],{1456:function(a,s,t){"use strict";var i=t("60b3"),e=t.n(i);e.a},"60b3":function(a,s,t){},7803:function(a,s,t){"use strict";t.r(s);var i=function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"register"},[t("img",{staticClass:"logo",attrs:{src:a.globalImgPath.logo}}),t("div",{staticClass:"panel"},[t("div",{staticClass:"info"},[t("img",{staticClass:"pic",attrs:{src:a.globalImgPath.register}})]),t("div",{staticClass:"form"},[t("div",{staticClass:"content"},[t("div",{staticClass:"title"},[a._v("注册")]),t("div",{staticClass:"control"},[t("div",{staticClass:"item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"请输入用户名，后续不可更改"},domProps:{value:a.username},on:{blur:function(s){return a.validateHasUser()},input:function(s){s.target.composing||(a.username=s.target.value)}}})]),t("div",{staticClass:"item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.mailbox,expression:"mailbox"}],staticClass:"input",attrs:{type:"text",placeholder:"请输入常用邮箱"},domProps:{value:a.mailbox},on:{blur:function(s){return a.validateEmail()},input:function(s){s.target.composing||(a.mailbox=s.target.value)}}}),a.isEmail?a._e():t("div",{staticClass:"error"},[a._v("邮箱格式不正确哦")])]),t("div",{staticClass:"item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"请输入密码，6-16个字符"},domProps:{value:a.password},on:{blur:function(s){return a.validatePassword()},input:function(s){s.target.composing||(a.password=s.target.value)}}}),a.isPassword?a._e():t("div",{staticClass:"error"},[a._v("密码格式不正确哦")])]),t("div",{staticClass:"item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.rePassword,expression:"rePassword"}],staticClass:"input",attrs:{type:"password",placeholder:"请再次输入密码"},domProps:{value:a.rePassword},on:{blur:function(s){return a.confirmPassword()},input:function(s){s.target.composing||(a.rePassword=s.target.value)}}}),a.valiPassword?a._e():t("div",{staticClass:"error"},[a._v("两次密码输入不一致")])]),t("div",{staticClass:"button",on:{click:function(s){return a.register()}}},[a._v("注册")])]),t("div",{staticClass:"other"},[t("span",{staticClass:"txt"},[a._v("已有账号")]),t("span",{staticClass:"login",on:{click:function(s){return a.toPage("/login")}}},[a._v("登录")])])])])])])},e=[],r={data:function(){return{username:"",mailbox:"",password:"",rePassword:"",isEmail:1,isPassword:1,valiPassword:1,hasUser:0,hasEmail:0}},methods:{toPage:function(a){this.$router.push(a)},validateHasUser:function(){var a=this;this.$http.get("/authentications/duplicateCheck",{params:{value:this.username,type:1}}).then((function(s){0==s.data.code?a.hasUser=0:a.$Message.error(s.data.message)}))},validateHasEmail:function(){var a=this;this.$http.get("/authentications/duplicateCheck",{params:{value:this.mailbox,type:2}}).then((function(s){0==s.data.code?a.hasEmail=0:a.$Message.error(s.data.message)}))},validateFormatEmail:function(){var a=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;a.test(this.mailbox)?this.isEmail=1:this.isEmail=0},validateEmail:function(){this.validateHasEmail(),this.validateFormatEmail()},validatePassword:function(){var a=this.password.length;this.isPassword=a<6||a>16?0:1},confirmPassword:function(){this.rePassword==this.password?this.valiPassword=1:this.valiPassword=0},register:function(){var a=this;this.validateEmail(),this.validatePassword(),this.confirmPassword(),this.validateHasUser(),setTimeout((function(){a.isEmail&&a.isPassword&&a.valiPassword&&!a.hasUser&&!a.hasEmail&&a.$http.post("/authentications",{username:a.username,mailbox:a.mailbox,password:a.password},{emulateJSON:!0}).then((function(s){0==s.data.code?a.$router.push({name:"validateEmail",params:{mailbox:a.mailbox,userId:s.data.data.id,type:"register"}}):a.$Message.error(s.data.message)}))}),500)}},mounted:function(){}},o=r,n=(t("1456"),t("2877")),l=Object(n["a"])(o,i,e,!1,null,"de00eafa",null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-3903b3ac.b4fa4fec.js.map